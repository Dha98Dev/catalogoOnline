@if (!loader && colorOptions.length > 0) {
  <!-- <p-drawer header="Kakashi Vintage Tee" [(visible)]="visibleDetalle" position="right" (onHide)="onEmitclose.emit(false)"
    styleClass="w-100"> -->
<!-- contenedor total -->
<!-- <div class="contenedor flex justify-center"> -->
<!-- contenedor centrado -->
<!-- <div class="col-8 ">
            <div class="flex items-center gap-1.5">
                <span class="w-4 h-4 rounded-full bg-black border border-slate-300" title="Negro"></span>
                <span class="w-4 h-4 rounded-full bg-white border border-slate-300" title="Blanco"></span>
                <span class="w-4 h-4 rounded-full bg-slate-700 border border-slate-300" title="Gris"></span>
            </div>
        </div>
    </div>

 -->


<!-- <div class="flex flex-row-reverse gap-3">
        <div class="w-[10%]  flex flex-col gap-3 overflow-y-auto max-h-full">
            <div class="shrink-0 flex justify-around shadow-md overflow-hidden rounded">
                <img src="https://lacamiseta.com.co/cdn/shop/products/camiseta_anime_naruto_kakashi_sasuke_para_ninos_hombre_mujer_colombia_moda_11.jpg?v=1622562916"
                    class="w-[95%]">
            </div>
            <div class="shrink-0 flex justify-around shadow-md overflow-hidden rounded">
                <img src="https://lacamiseta.com.co/cdn/shop/products/camiseta_anime_naruto_kakashi_sasuke_para_ninos_hombre_mujer_colombia_moda_11.jpg?v=1622562916"
                    class="w-[95%]">
            </div>
            <div class="shrink-0 flex justify-around shadow-md overflow-hidden rounded">
                <img src="https://lacamiseta.com.co/cdn/shop/products/camiseta_anime_naruto_kakashi_sasuke_para_ninos_hombre_mujer_colombia_moda_11.jpg?v=1622562916"
                    class="w-[95%]">
            </div>
            <div class="shrink-0 flex justify-around shadow-md overflow-hidden rounded">
                <img src="https://lacamiseta.com.co/cdn/shop/products/camiseta_anime_naruto_kakashi_sasuke_para_ninos_hombre_mujer_colombia_moda_11.jpg?v=1622562916"
                    class="w-[95%]">
            </div>
            <div class="shrink-0 flex justify-around shadow-md overflow-hidden rounded">
                <img src="https://lacamiseta.com.co/cdn/shop/products/camiseta_anime_naruto_kakashi_sasuke_para_ninos_hombre_mujer_colombia_moda_11.jpg?v=1622562916"
                    class="w-[95%]">
            </div>
            <div class="shrink-0 flex justify-around shadow-md overflow-hidden rounded">
                <img src="https://lacamiseta.com.co/cdn/shop/products/camiseta_anime_naruto_kakashi_sasuke_para_ninos_hombre_mujer_colombia_moda_11.jpg?v=1622562916"
                    class="w-[95%]">
            </div>

        </div>
        <div class="w-[80%]  flex justify-center overflow-hidden rounded">
            <img src="https://lacamiseta.com.co/cdn/shop/products/camiseta_anime_naruto_kakashi_sasuke_para_ninos_hombre_mujer_colombia_moda_11.jpg?v=1622562916"
                class="h-[25%]">
        </div>

    </div>
    <div class="flex items-center gap-2 text-xl w-fit">
        <p class="font-medium mb-0">Codigo diseño:</p>
        <small>D56</small>
    </div> -->

<!-- div de los detalles -->
<!-- <div class="py-2 px-2 mt-5 ">
        <div class="tipo_telas"></div>
        <div class="colores"></div>
        <div class="tallas"></div>

    </div>

</p-drawer> -->



  <div class="drawer flex flex-col gap-4">

    <!-- 1 + 3: Colores y Tipo de prenda -->
    <div class="flex items-start gap-4 flex-wrap justify-between shadow-md py-3 rounded-xl">
      <!-- 1) Colores (checkbox redondeados) -->
      <div class="flex-1  text-center">
        <div class="section-title">Colores</div>
        <p-selectButton [options]="colorOptions" [(ngModel)]="selectedColor" optionLabel="label" optionValue="value"
          [multiple]="false" [unselectable]="true" [allowEmpty]="true" (onChange)="getMedidas()">
          <ng-template pTemplate="item" let-opt>
            <div class="swatch" [style.background]="opt.meta.hex" [attr.aria-label]="opt.label"></div>
            <span class="swatch-label">{{opt.label}}</span>
          </ng-template>
        </p-selectButton>
      </div>

      <!-- orientacion -->
      <div class="flex-1  text-center">
        <div class="section-title">Lado de prenda</div>
        <p-selectButton [options]="orientacionOptions" [(ngModel)]="selectedOrientacion" optionLabel="label"
          optionValue="value" (onChange)="getMedidas()"></p-selectButton>
      </div>

      <!-- 3) Tipo de prenda (radio/single) -->
      <div class="flex-1  text-center">
        <div class="section-title">Tipo de prenda</div>
        <p-selectButton [options]="garmentOptions" [(ngModel)]="selectedPrenda" optionLabel="label"
          optionValue="value" (onChange)="getMedidas()"></p-selectButton>
      </div>
    </div>

    <pre>
     top {{getTopAnLeft(true)}}
     rigth {{getTopAnLeft(false)}}
     width {{screenWidth}}
     
    </pre>



    <!-- 4 + 5: Vista principal + posiciones -->
    <div class="flex gap-4 images">
      <!-- 4) Imagen base con overlay del diseño -->
      <div class=" flex-1">
        <!-- t-0 l-0 -->

        <!-- <div class="preview relative border-1 border-red-500">
          <div class="absolute  flex justify-center border left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[524px] h-full" >
            <div class="relative  w-full h-full" >
              <div class="absolute bg-red-500 " [ngStyle]="{ top:selectedPosition.top, left:'', right:selectedPosition.rigth }"> 
                <img [src]="urlDisenio" alt="diseño" class="no-save" (contextmenu)="block($event)"
                  (dragstart)="block($event)" (mousedown)="blockMiddle($event)" [attr.draggable]="false" [ngStyle]="{ width: selectedPosition.tamanio_img }" />
              </div>
            </div>
          </div>
          <img [src]="getColorPlayera()" alt="" class="border" >
        </div> -->

        <div class="preview relative ">
          <!-- Imagen de la playera -->
          <img [src]="getColorPlayera()" alt="" class="playera">

          <!-- Contenedor centrado del diseño -->
          <div class="absolute inset-0 flex justify-center items-center">
            <div class="relative w-[524px] h-full flex justify-center items-center">
              <!-- <div class="absolute h-full w-full bg-slate-50" [ngStyle]="{ top: selectedPosition.top, right: selectedPosition.rigth}"> -->
              <img [src]="urlDisenio" alt="diseño" class="no-save  absolute" (contextmenu)="block($event)"
                (dragstart)="block($event)" (mousedown)="blockMiddle($event)" [attr.draggable]="false" [ngStyle]="{
          width: selectedPosition.tamanio_img,top: getTopAnLeft(true), right:getTopAnLeft(false) 
        }" />
              <!-- </div> -->
            </div>
          </div>
        </div>

      </div>

      <!-- 5) Posiciones posibles (cards) -->
      <div class="w-[220px] contenedor-cards flex  flex-col gap-3 bg-slate-50 px-2 py-2 rounded">
        <div class="section-title">Posición del estampado</div>
        <div class="positions flex flex-col gap-2 ">
          @for (pos of medidasByside; track $index) {
          <button class="pos-card" [class.active]="selectedPosition.id===pos.id" (click)="selectedPosition = pos">
            <img [src]="'./assets/images/medidas/'+pos.url_posicion" [alt]="pos.lado_seleccionado" />
            <div class="pos-meta">
              <div class="pos-title">{{ pos.lado_seleccionado }}</div>
              <div class="pos-desc">{{ pos.medida }}</div>
            </div>
          </button>
          }
        </div>
      </div>
    </div>

    <!-- 6–9: Info del diseño -->
    <!-- <div class="flex flex-col gap-2">
  
      <div class="info-row">
        <div class="info-label">Nombre</div>
        <div class="info-value">{{ design?.name }}</div>
      </div>


      <div class="info-row">
        <div class="info-label">Categorías</div>
        <div class="info-value">
          <span class="tag" *ngFor="let c of design?.categories">{{ c }}</span>
        </div>
      </div>


      <div class="info-row">
        <div class="info-label">Tamaño</div>
        <div class="info-value">
          {{ design?.sizeCm.width }} × {{ design?.sizeCm.height }} cm
        </div>
      </div>


      <div class="info-row">
        <div class="info-label">Más info</div>
        <div class="info-value">
          <div class="grid gap-1">
            <div><b>Código:</b> {{ design?.code }}</div>
            <div><b>Colores activos:</b> {{ selectedColors?.length || 0 }}</div>
            <div><b>Tipo:</b> {{ selectedGarment }}</div>
          </div>
        </div>
      </div>
    </div> -->

  </div>

}@else {
  <h1>loader encendido</h1>
}